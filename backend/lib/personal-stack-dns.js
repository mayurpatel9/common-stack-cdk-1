"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.PersonalStackDns = void 0;
const aws_certificatemanager_1 = require("aws-cdk-lib/aws-certificatemanager");
const aws_cdk_lib_1 = require("aws-cdk-lib");
const aws_route53_1 = require("aws-cdk-lib/aws-route53");
class PersonalStackDns extends aws_cdk_lib_1.Stack {
    constructor(scope, id, props) {
        super(scope, id, props);
        //Public Hosted Zone
        this.hostedZone = new aws_route53_1.PublicHostedZone(this, 'PersonalAppHostedZone', {
            zoneName: props.dnsName,
        });
        this.hostedZone.applyRemovalPolicy(aws_cdk_lib_1.RemovalPolicy.DESTROY);
        //Certificate Manager
        this.certificate = new aws_certificatemanager_1.Certificate(this, 'PersonalAppCertificateManager', {
            domainName: props.dnsName,
            validation: aws_certificatemanager_1.CertificateValidation.fromDns(this.hostedZone),
        });
        this.certificate.applyRemovalPolicy(aws_cdk_lib_1.RemovalPolicy.DESTROY);
    }
}
exports.PersonalStackDns = PersonalStackDns;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGVyc29uYWwtc3RhY2stZG5zLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsicGVyc29uYWwtc3RhY2stZG5zLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLCtFQUFzRztBQUN0Ryw2Q0FBK0Q7QUFDL0QseURBQThFO0FBTzlFLE1BQWEsZ0JBQWlCLFNBQVEsbUJBQUs7SUFLdkMsWUFBWSxLQUFnQixFQUFFLEVBQVUsRUFBRSxLQUE0QjtRQUNsRSxLQUFLLENBQUMsS0FBSyxFQUFFLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUV4QixvQkFBb0I7UUFDcEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLDhCQUFnQixDQUFDLElBQUksRUFBRSx1QkFBdUIsRUFBRTtZQUNqRSxRQUFRLEVBQUMsS0FBSyxDQUFDLE9BQU87U0FDMUIsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLFVBQVUsQ0FBQyxrQkFBa0IsQ0FBQywyQkFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRTFELHFCQUFxQjtRQUNyQixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksb0NBQVcsQ0FBQyxJQUFJLEVBQUUsK0JBQStCLEVBQUU7WUFDdEUsVUFBVSxFQUFFLEtBQUssQ0FBQyxPQUFPO1lBQ3pCLFVBQVUsRUFBQyw4Q0FBcUIsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQztTQUM1RCxDQUFDLENBQUE7UUFFRixJQUFJLENBQUMsV0FBVyxDQUFDLGtCQUFrQixDQUFDLDJCQUFhLENBQUMsT0FBTyxDQUFDLENBQUE7SUFDOUQsQ0FBQztDQUNKO0FBdEJELDRDQXNCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENlcnRpZmljYXRlLCBDZXJ0aWZpY2F0ZVZhbGlkYXRpb24sIElDZXJ0aWZpY2F0ZSB9IGZyb20gJ2F3cy1jZGstbGliL2F3cy1jZXJ0aWZpY2F0ZW1hbmFnZXInO1xyXG5pbXBvcnQgeyBTdGFjaywgU3RhY2tQcm9wcywgUmVtb3ZhbFBvbGljeSB9IGZyb20gJ2F3cy1jZGstbGliJztcclxuaW1wb3J0IHsgSVB1YmxpY0hvc3RlZFpvbmUsIFB1YmxpY0hvc3RlZFpvbmUgfSBmcm9tICdhd3MtY2RrLWxpYi9hd3Mtcm91dGU1Myc7XHJcbmltcG9ydCB7IENvbnN0cnVjdCB9IGZyb20gJ2NvbnN0cnVjdHMnO1xyXG5cclxuaW50ZXJmYWNlIFBlcnNvbmFsRG5zU3RhY2tQcm9wcyBleHRlbmRzIFN0YWNrUHJvcHMge1xyXG4gICAgZG5zTmFtZTogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBQZXJzb25hbFN0YWNrRG5zIGV4dGVuZHMgU3RhY2sge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBob3N0ZWRab25lOiBJUHVibGljSG9zdGVkWm9uZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBjZXJ0aWZpY2F0ZTogSUNlcnRpZmljYXRlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjb3BlOiBDb25zdHJ1Y3QsIGlkOiBzdHJpbmcsIHByb3BzOiBQZXJzb25hbERuc1N0YWNrUHJvcHMpIHtcclxuICAgICAgICBzdXBlcihzY29wZSwgaWQsIHByb3BzKTtcclxuXHJcbiAgICAgICAgLy9QdWJsaWMgSG9zdGVkIFpvbmVcclxuICAgICAgICB0aGlzLmhvc3RlZFpvbmUgPSBuZXcgUHVibGljSG9zdGVkWm9uZSh0aGlzLCAnUGVyc29uYWxBcHBIb3N0ZWRab25lJywge1xyXG4gICAgICAgICAgICAgem9uZU5hbWU6cHJvcHMuZG5zTmFtZSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmhvc3RlZFpvbmUuYXBwbHlSZW1vdmFsUG9saWN5KFJlbW92YWxQb2xpY3kuREVTVFJPWSk7XHJcblxyXG4gICAgICAgIC8vQ2VydGlmaWNhdGUgTWFuYWdlclxyXG4gICAgICAgIHRoaXMuY2VydGlmaWNhdGUgPSBuZXcgQ2VydGlmaWNhdGUodGhpcywgJ1BlcnNvbmFsQXBwQ2VydGlmaWNhdGVNYW5hZ2VyJywge1xyXG4gICAgICAgICAgICBkb21haW5OYW1lOiBwcm9wcy5kbnNOYW1lLFxyXG4gICAgICAgICAgICB2YWxpZGF0aW9uOkNlcnRpZmljYXRlVmFsaWRhdGlvbi5mcm9tRG5zKHRoaXMuaG9zdGVkWm9uZSksXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy5jZXJ0aWZpY2F0ZS5hcHBseVJlbW92YWxQb2xpY3koUmVtb3ZhbFBvbGljeS5ERVNUUk9ZKVxyXG4gICAgfVxyXG59XHJcbiJdfQ==